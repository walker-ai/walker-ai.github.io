---
title: 归并排序
subtitle:
date: 2025-08-16T13:16:16+08:00
slug: f751a18
draft: false
author:
  name: "yitao"
  link:
  email:
  avatar:
description:
keywords:
license:
comment: true
weight: 0
tags:
categories: [算法]
hiddenFromHomePage: false
hiddenFromSearch: false
hiddenFromRelated: false
hiddenFromFeed: false
summary:
resources:
  - name: featured-image
    src: featured-image.jpg
  - name: featured-image-preview
    src: featured-image-preview.jpg
toc: true
math: true
lightgallery: false
password:
message:
repost:
  enable: false
  url:

# See details front matter: https://fixit.lruihao.cn/documentation/content-management/introduction/#front-matter
---

<!--more-->

### 算法思路
![IMG_20210702_174626.jpg](https://cdn.acwing.com/media/article/image/2021/07/02/94631_7fb6b17cdb-IMG_20210702_174626.jpg)

稳定 $O(n\log n)$

### 完整代码

#### C++

```cpp
#include <iostream>

using namespace std;

const int N = 1e5 + 10;

int q[N], tmp[N];

void merge_sort(int q[], int l, int r)
{
    if (l >= r) return;

    int mid = l + r >> 1;

    merge_sort(q, l, mid), merge_sort(q, mid + 1, r);

    int k = 0, i = l, j = mid + 1;
    while (i <= mid && j <= r)
        if (q[i] <= q[j]) tmp[k ++ ] = q[i ++ ];
        else tmp[k ++ ] = q[j ++ ];

    while (i <= mid) tmp[k ++ ] = q[i ++ ];
    while (j <= r) tmp[k ++ ] = q[j ++ ];

    for (i = l, j = 0; i <= r; i ++ , j ++ ) q[i] = tmp[j];
}

int main()
{
    int n;
    cin >> n;
    for (int i = 0; i < n; i ++ ) scanf("%d", &q[i]);

    merge_sort(q, 0, n - 1);

    for (int i = 0; i < n; i ++ ) printf("%d ", q[i]);
    return 0;
}
```
#### Python3
```python3
def merge_sort(q, l, r):
    if l >= r:
        return

    mid = l + r >> 1
    merge_sort(q, l, mid)
    merge_sort(q, mid + 1, r)

    i, j, k = l, mid + 1, 0
    while i <= mid and j <= r:
        if q[i] < q[j]:
            tmp[k] = q[i]
            i += 1
        else:
            tmp[k] = q[j]
            j += 1
        k += 1

    while i <= mid:
        tmp[k] = q[i]
        i += 1
        k += 1
    while j <= r:
        tmp[k] = q[j]
        j += 1
        k += 1

    j = 0
    for i in range(l, r + 1):
        q[i] = tmp[j]
        j += 1

if __name__ == "__main__":
    n = int(input())
    q = list(map(int, input().split()))
    tmp = [0] * n
    merge_sort(q, 0, n - 1)
    for i in range(len(q)):
        print(q[i], end = ' ')
```
